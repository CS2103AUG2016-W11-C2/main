# A0148031R
###### \java\seedu\agendum\ui\AllTasksPanel.java
``` java
/**
 * Panel contains the list of all tasks
 */
public class AllTasksPanel extends UiPart {
    private final Logger logger = LogsCenter.getLogger(AllTasksPanel.class);
    private static final String FXML = "AllTasksPanel.fxml";
    private AnchorPane panel;
    private AnchorPane placeHolderPane;

    @FXML
    private ListView<ReadOnlyTask> allTasksListView;

    public AllTasksPanel() {
        super();
    }

    @Override
    public void setNode(Node node) {
        panel = (AnchorPane) node;
    }

    @Override
    public String getFxmlPath() {
        return FXML;
    }

    @Override
    public void setPlaceholder(AnchorPane pane) {
        this.placeHolderPane = pane;
    }

    public static AllTasksPanel load(Stage primaryStage, AnchorPane AllTasksPlaceholder,
            ObservableList<ReadOnlyTask> taskList) {
        AllTasksPanel allTasksPanel = UiPartLoader.loadUiPart(primaryStage, AllTasksPlaceholder, new AllTasksPanel());
        allTasksPanel.configure(taskList);
        return allTasksPanel;
    }

    private void configure(ObservableList<ReadOnlyTask> allTasks) {
        setConnections(allTasks);
        addToPlaceholder();
    }

    private void setConnections(ObservableList<ReadOnlyTask> allTasks) {
        allTasksListView.setItems(allTasks);
        allTasksListView.setCellFactory(listView -> new allTasksListViewCell());
    }

    private void addToPlaceholder() {
        SplitPane.setResizableWithParent(placeHolderPane, false);
        placeHolderPane.getChildren().add(panel);
    }

    public void scrollTo(int index) {
        Platform.runLater(() -> {
            allTasksListView.scrollTo(index);
            allTasksListView.getSelectionModel().clearAndSelect(index);
        });
    }

    class allTasksListViewCell extends ListCell<ReadOnlyTask> {

        @Override
        protected void updateItem(ReadOnlyTask task, boolean empty) {
            super.updateItem(task, empty);

            if (empty || task == null) {
                setGraphic(null);
                setText(null);
            } else {
                setGraphic(TaskCard.load(task, getIndex() + 1).getLayout());
            }
        }
    }

}
```
###### \java\seedu\agendum\ui\CommandBox.java
``` java
public class CommandBox extends UiPart {
    private final Logger logger = LogsCenter.getLogger(CommandBox.class);
    private static final String FXML = "CommandBox.fxml";

    private AnchorPane placeHolderPane;
    private AnchorPane commandPane;
    private ResultPopUp resultPopUp;
    private static CommandBoxHistory commandBoxHistory;

    private Logic logic;

    @FXML
    private TextField commandTextField;
    private CommandResult mostRecentResult;

    public static CommandBox load(Stage primaryStage, AnchorPane commandBoxPlaceholder,
            ResultPopUp resultPopUp, Logic logic) {
        CommandBox commandBox = UiPartLoader.loadUiPart(primaryStage, commandBoxPlaceholder, new CommandBox());
        commandBox.configure(resultPopUp, logic);
        commandBox.addToPlaceholder();
        commandBoxHistory = new CommandBoxHistory();
        return commandBox;
    }

    public void configure(ResultPopUp resultPopUp, Logic logic) {
        this.resultPopUp = resultPopUp;
        this.logic = logic;
        registerAsAnEventHandler(this);
        registerArrowKeyEventFilter();
        registerTabKeyEventFilter();
    }

    private void addToPlaceholder() {
        SplitPane.setResizableWithParent(placeHolderPane, false);
        placeHolderPane.getChildren().add(commandTextField);
        FxViewUtil.applyAnchorBoundaryParameters(commandPane, 0.0, 0.0, 0.0, 0.0);
        FxViewUtil.applyAnchorBoundaryParameters(commandTextField, 0.0, 0.0, 0.0, 0.0);
    }

    @Override
    public void setNode(Node node) {
        commandPane = (AnchorPane) node;
    }

    @Override
    public String getFxmlPath() {
        return FXML;
    }

    @Override
    public void setPlaceholder(AnchorPane pane) {
        this.placeHolderPane = pane;
    }

    @FXML
    private void handleCommandInputChanged() {
        //Take a copy of the command text
        commandBoxHistory.saveNewCommand(commandTextField.getText());
        String previousCommandTest = commandBoxHistory.getLastCommand();

        /* We assume the command is correct. If it is incorrect, the command box will be changed accordingly
         * in the event handling code {@link #handleIncorrectCommandAttempted}
         */
        
        setStyleToIndicateCorrectCommand();
        mostRecentResult = logic.execute(previousCommandTest);
        if(!previousCommandTest.toLowerCase().equals("help")) {
            resultPopUp.postMessage(mostRecentResult.feedbackToUser);
        }
        logger.info("Result: " + mostRecentResult.feedbackToUser);
    }

    private void registerArrowKeyEventFilter() {
        commandTextField.addEventFilter(KeyEvent.KEY_PRESSED, new EventHandler<KeyEvent>() {
            public void handle(KeyEvent event) {
                KeyCode keyCode = event.getCode();
                if (keyCode.equals(KeyCode.UP)) {
                    String previousCommand = commandBoxHistory.getPreviousCommand();
                    commandTextField.setText(previousCommand);
                } else if (keyCode.equals(KeyCode.DOWN)) {
                    String nextCommand = commandBoxHistory.getNextCommand();
                    commandTextField.setText(nextCommand);
                } else {
                    return;
                }
                commandTextField.end();
                event.consume();
            }
        });  
    }
    
    private void registerTabKeyEventFilter() {
        commandTextField.addEventFilter(KeyEvent.KEY_PRESSED, new EventHandler<KeyEvent>() {
            public void handle(KeyEvent event) {
                KeyCode keyCode = event.getCode();
                if (keyCode.equals(KeyCode.TAB)) {
                    Optional<String> parsedString = EditDistanceCalculator.commandCompletion(commandTextField.getText());
                    if(parsedString.isPresent()) {
                        commandTextField.setText(parsedString.get());
                    }
                } else {
                    return;
                }
                commandTextField.end();
                event.consume();
            }
        });
    }

    /**
     * Sets the command box style to indicate a correct command.
     */
    private void setStyleToIndicateCorrectCommand() {
        commandTextField.getStyleClass().remove("error");
        commandTextField.setText("");
    }

    @Subscribe
    private void handleIncorrectCommandAttempted(IncorrectCommandAttemptedEvent event){
        logger.info(LogsCenter.getEventHandlingLogMessage(event, "Invalid command: " + commandBoxHistory.getLastCommand()));
        setStyleToIndicateIncorrectCommand();
        restoreCommandText();
    }

    /**
     * Restores the command box text to the previously entered command
     */
    private void restoreCommandText() {
        commandTextField.setText(commandBoxHistory.getLastCommand());
        commandTextField.selectEnd();
    }

    /**
     * Sets the command box style to indicate an error
     */
    private void setStyleToIndicateIncorrectCommand() {
        commandTextField.getStyleClass().add("error");
    }

}
```
###### \java\seedu\agendum\ui\CommandBoxHistory.java
``` java
/**
 * Stores previous valid and invalid commands in a linked list with a max size
 * New commands are added to the head of the linked list
 */
public class CommandBoxHistory {
    
    private static final int MAX_PREVIOUS_LINES = 15;
    private static final String PREVIOUS_QUERY = "previous";
    private static final String NEXT_QUERY = "next";
    private static final String EMPTY_QUERY = "";
    private static final String EMPTY_COMMAND = "";
    private LinkedList<String> pastCommands;
    private ListIterator<String> iterator;
    private String lastCommand = "";
    private String lastQuery = EMPTY_QUERY;
    
    public CommandBoxHistory() {
        pastCommands = new LinkedList<String>();
        iterator = pastCommands.listIterator();      
    }

    /**
     * Retrieves the last command entered
     */
    public String getLastCommand() {
        return lastCommand;
    }

    /**
     * Retrieves the previous valid/invalid command
     * before the current command in the command box
     * If there is no previous command, returns an empty string to clear the command box
     */
    public String getPreviousCommand() {
        if(!iterator.hasNext()) {
            lastQuery = EMPTY_QUERY;
            return EMPTY_COMMAND;
        } else if(lastQuery.equals(NEXT_QUERY)) {
            iterator.next();
        } 
        lastQuery = PREVIOUS_QUERY;
        return iterator.next();
    }

    /**
     * Retrieves the previous valid/invalid command
     * after the current command in the command box
     * If there is no new command, return an empty string to clear the command box
     */
    public String getNextCommand() {
        if (!iterator.hasPrevious()) {
            lastQuery = EMPTY_QUERY;
            return EMPTY_COMMAND;
        } else if(lastQuery.equals(PREVIOUS_QUERY)) {
            iterator.previous();
        }  
        lastQuery = NEXT_QUERY;
        return iterator.previous();

    }

    /**
     * Takes in the latest command string entered and add it to command box history
     * Update the iterator to point to the latest element 
     */
    public void saveNewCommand(String newCommand) {
       lastCommand = newCommand;
       pastCommands.addFirst(lastCommand);

       if (pastCommands.size() > MAX_PREVIOUS_LINES) {
           pastCommands.removeLast();
       }

       iterator = pastCommands.listIterator();
    }

}
```
###### \java\seedu\agendum\ui\CompletedTaskCard.java
``` java
public class CompletedTaskCard extends UiPart {
    
    private static final String FXML = "CompletedTaskCard.fxml";

    @FXML
    private HBox cardPane;
    @FXML
    private Label name;
    @FXML
    private Label id;

    private ReadOnlyTask task;
    private int displayedIndex;

    public CompletedTaskCard(){

    }

    public static CompletedTaskCard load(ReadOnlyTask task, int displayedIndex){
        CompletedTaskCard card = new CompletedTaskCard();
        card.task = task;
        card.displayedIndex = displayedIndex;
        return UiPartLoader.loadUiPart(card);
    }

    @FXML
    public void initialize() {
        name.setText(task.getName().fullName);
        id.setText(displayedIndex + ". ");
    }

    public HBox getLayout() {
        return cardPane;
    }

    @Override
    public void setNode(Node node) {
        cardPane = (HBox)node;
    }

    @Override
    public String getFxmlPath() {
        return FXML;
    }
}
```
###### \java\seedu\agendum\ui\CompletedTasksPanel.java
``` java
/**
 * Panel contains the list of completed tasks
 */
public class CompletedTasksPanel extends UiPart {
    private static final String FXML = "CompletedTasksPanel.fxml";
    private AnchorPane panel;
    private AnchorPane placeHolderPane;

    @FXML
    private ListView<ReadOnlyTask> completedTasksListView;

    public CompletedTasksPanel() {
        super();
    }

    @Override
    public void setNode(Node node) {
        panel = (AnchorPane) node;
    }

    @Override
    public String getFxmlPath() {
        return FXML;
    }

    @Override
    public void setPlaceholder(AnchorPane pane) {
        this.placeHolderPane = pane;
    }

    public static CompletedTasksPanel load(Stage primaryStage, AnchorPane CompletedTasksPlaceholder,
            ObservableList<ReadOnlyTask> taskList) {
        CompletedTasksPanel completedTasksPanel = UiPartLoader.loadUiPart(primaryStage, CompletedTasksPlaceholder, new CompletedTasksPanel());
        completedTasksPanel.configure(taskList);
        return completedTasksPanel;
    }
    
    private void configure(ObservableList<ReadOnlyTask> taskList) {
        setConnections(taskList);
        addToPlaceholder();
    }

    private void setConnections(ObservableList<ReadOnlyTask> taskList) {
        completedTasksListView.setItems(taskList.filtered(task -> task.isCompleted()));
        completedTasksListView.setCellFactory(listView -> new completedTasksListViewCell());
    }

    private void addToPlaceholder() {
        SplitPane.setResizableWithParent(placeHolderPane, false);
        placeHolderPane.getChildren().add(panel);
    }

    public void scrollTo(int index) {
        Platform.runLater(() -> {
            completedTasksListView.scrollTo(index);
            completedTasksListView.getSelectionModel().clearAndSelect(index);
        });
    }

    class completedTasksListViewCell extends ListCell<ReadOnlyTask> {

        @Override
        protected void updateItem(ReadOnlyTask task, boolean empty) {
            super.updateItem(task, empty);

            if (empty || task == null) {
                setGraphic(null);
                setText(null);
            } else {
                setGraphic(TaskCard.load(task).getLayout());
            }
        }
    }

}
```
###### \java\seedu\agendum\ui\HelpWindow.java
``` java
/**
 * Controller for a help page
 */
public class HelpWindow extends UiPart {

    private static final Logger logger = LogsCenter.getLogger(HelpWindow.class);
    private static final String ICON = "/images/help_icon.png";
    private static final String FXML = "HelpWindow.fxml";
    private static final String TITLE = "Help";
    private static final int HEIGHT = 600;
    private double xOffset = 0;
    private double yOffset = 0;
    private ObservableList<Map<CommandColumns, String>> commandList = FXCollections.observableArrayList();

    private AnchorPane mainPane;

    private static Stage dialogStage;

    private enum CommandColumns {
        COMMAND, DESCRIPTION, FORMAT
    }
    
    @FXML
    private TableView<Map<CommandColumns, String>> commandTable;
    
    @FXML
    private TableColumn<Map<CommandColumns, String>, String> commandColumn;
    
    @FXML
    private TableColumn<Map<CommandColumns, String>, String> descriptionColumn;
    
    @FXML
    private TableColumn<Map<CommandColumns, String>, String> formatColumn;
    
    @FXML
    private Button backButton;
    
    /**
     * Initializes the controller class. This method is automatically called
     * after the fxml file has been loaded.
     */
    @FXML
    private void initialize() {
        
        backButton.setOnAction((event) -> {
            dialogStage.close();
        });
        
        commandColumn.setCellValueFactory(cellData ->  new SimpleStringProperty(cellData.getValue().get(CommandColumns.COMMAND)));
        descriptionColumn.setCellValueFactory(cellData ->  new SimpleStringProperty(cellData.getValue().get(CommandColumns.DESCRIPTION)));
        formatColumn.setCellValueFactory(cellData ->  new SimpleStringProperty(cellData.getValue().get(CommandColumns.FORMAT)));
        
        commandTable.setItems(commandList);
    }
    
    public static HelpWindow load(Stage primaryStage) {
        logger.fine("Showing help page about the application.");
        if (!StageHelper.getStages().contains(dialogStage)) {
            HelpWindow helpWindow = UiPartLoader.loadUiPart(primaryStage, new HelpWindow());
            helpWindow.configure();
            return helpWindow;
        } else {
            dialogStage.requestFocus();
            return null;
        }
    }
    

    @Override
    public void setNode(Node node) {
        mainPane = (AnchorPane) node;
    }

    @Override
    public String getFxmlPath() {
        return FXML;
    }

    private void configure(){
        Scene scene = new Scene(mainPane);
        dialogStage = createDialogStage(TITLE, null, scene);
        dialogStage.setHeight(HEIGHT);
        dialogStage.setResizable(false);
        
        scene.setFill(Color.TRANSPARENT);
        dialogStage.initStyle(StageStyle.TRANSPARENT);
        
        setIcon(dialogStage, ICON);
        configureDrag();
        loadHelpList();
        
        handleKeyInput(scene);
    }
    
    private void configureDrag() {
        mainPane.setOnMousePressed(new EventHandler<MouseEvent>() {
            @Override
            public void handle(MouseEvent event) {
                xOffset = dialogStage.getX() - event.getScreenX();
                yOffset = dialogStage.getY() - event.getScreenY();
            }
        });

        mainPane.setOnMouseDragged(new EventHandler<MouseEvent>() {
            @Override
            public void handle(MouseEvent event) {
                dialogStage.setX(event.getScreenX() + xOffset);
                dialogStage.setY(event.getScreenY() + yOffset);
            }
        });
    }

    private void handleKeyInput(Scene scene) {
        scene.addEventFilter(KeyEvent.KEY_PRESSED, new EventHandler<KeyEvent>() {
            
            KeyCombination toggleHelpWindow = new KeyCodeCombination(KeyCode.H, KeyCombination.CONTROL_DOWN);

            @Override
            public void handle(KeyEvent evt) {
                if (evt.getCode().equals(KeyCode.ESCAPE)) {
                    dialogStage.close();
                } else if (toggleHelpWindow.match(evt)) {
                    if (dialogStage.isFocused()) {
                        primaryStage.requestFocus();
                    } else {
                        dialogStage.requestFocus();
                    }
                }
            }
        });
    }
    
    public void show() {
        dialogStage.show();
    }
    
    public Stage getStage() {
        return this.dialogStage;
    }

```
###### \java\seedu\agendum\ui\MainWindow.java
``` java
    private void configure(String appTitle, String toDoListName, Config config, UserPrefs prefs,
                           Logic logic) {

        //Set dependencies
        this.logic = logic;
        this.config = config;
        this.userPrefs = prefs;

        //Configure the UI
        setTitle(appTitle);
        setIcon(ICON);
        setWindowMinSize();
        setWindowDefaultSize(prefs);
        scene = new Scene(rootLayout);
        
        primaryStage.setScene(scene);
        
        primaryStage.setOnCloseRequest(e -> Platform.exit());

        setAccelerators();
        configureHelpWindowToggle();
    }

    private void setAccelerators() {
        helpMenuItem.setAccelerator(KeyCombination.valueOf("F5"));
    }
    
    private void configureHelpWindowToggle() {
        scene.addEventFilter(KeyEvent.KEY_PRESSED, new EventHandler<KeyEvent>() {
            KeyCombination toggleHelpWindow = new KeyCodeCombination(KeyCode.H, KeyCombination.CONTROL_DOWN);
            @Override
            public void handle(KeyEvent evt) {
                if(toggleHelpWindow.match(evt) && helpWindowStage != null) {
                    if(helpWindowStage.isFocused()) {
                        primaryStage.requestFocus();
                    } else {
                        helpWindowStage.requestFocus();
                    }
                }
            }
        });
    }

```
###### \java\seedu\agendum\ui\MainWindow.java
``` java
    void fillInnerParts() {
        allTasksPanel = AllTasksPanel.load(primaryStage, getAllTasksPlaceHolder(), logic.getFilteredTaskList());
        completedTasksPanel = CompletedTasksPanel.load(primaryStage, getCompletedTasksPlaceHolder(), logic.getFilteredTaskList());
        otherTasksPanel = OtherTasksPanel.load(primaryStage, getOtherTasksPlaceHolder(), logic.getFilteredTaskList());
        resultPopUp = ResultPopUp.load(primaryStage);
        statusBarFooter = StatusBarFooter.load(primaryStage, getStatusbarPlaceholder(), config.getToDoListFilePath());
        commandBox = CommandBox.load(primaryStage, getCommandBoxPlaceholder(), resultPopUp, logic);
    }

    private AnchorPane getCommandBoxPlaceholder() {
        return commandBoxPlaceholder;
    }

    private AnchorPane getStatusbarPlaceholder() {
        return statusbarPlaceholder;
    }
    
    public AnchorPane getAllTasksPlaceHolder() {
        return allTasksPlaceHolder;
    }
    
    public AnchorPane getCompletedTasksPlaceHolder() {
        return completedTasksPlaceHolder;
    }
    
    public AnchorPane getOtherTasksPlaceHolder() {
        return otherTasksPlaceHolder;
    }

    public void hide() {
        primaryStage.hide();
    }

    private void setTitle(String appTitle) {
        primaryStage.setTitle(appTitle);
    }

    /**
     * Sets the default size based on user preferences.
     */
    protected void setWindowDefaultSize(UserPrefs prefs) {
        primaryStage.setHeight(prefs.getGuiSettings().getWindowHeight());
        primaryStage.setWidth(prefs.getGuiSettings().getWindowWidth());
        if (prefs.getGuiSettings().getWindowCoordinates() != null) {
            primaryStage.setX(prefs.getGuiSettings().getWindowCoordinates().getX());
            primaryStage.setY(prefs.getGuiSettings().getWindowCoordinates().getY());
        }
    }

    private void setWindowMinSize() {
        primaryStage.setMinHeight(MIN_HEIGHT);
        primaryStage.setMinWidth(MIN_WIDTH);
    }

    /**
     * Returns the current size and the position of the main Window.
     */
    public GuiSettings getCurrentGuiSetting() {
        return new GuiSettings(primaryStage.getWidth(), primaryStage.getHeight(),
                (int) primaryStage.getX(), (int) primaryStage.getY());
    }

    @FXML
    public void handleHelp() {
        HelpWindow helpWindow = HelpWindow.load(primaryStage);
        if(helpWindow != null) {
            this.helpWindowStage = helpWindow.getStage();
            helpWindow.show();
        }
    }

    public void show() {
        primaryStage.show();
    }

    /**
     * Closes the application.
     */
    @FXML
    private void handleExit() {
        raise(new ExitAppRequestEvent());
    }

    public AllTasksPanel getAllTasksPanel() {
        return this.allTasksPanel;
    }
    
    public CompletedTasksPanel getCompletedTasksPanel() {
        return this.completedTasksPanel;
    }
}
```
###### \java\seedu\agendum\ui\OtherTasksPanel.java
``` java
/**
 * Panel contains the list of other tasks
 */
public class OtherTasksPanel extends UiPart {
    private static final String FXML = "OtherTasksPanel.fxml";
    private AnchorPane panel;
    private AnchorPane placeHolderPane;

    @FXML
    private ListView<ReadOnlyTask> otherTasksListView;

    @Override
    public void setNode(Node node) {
        panel = (AnchorPane) node;
    }

    @Override
    public String getFxmlPath() {
        return FXML;
    }

    @Override
    public void setPlaceholder(AnchorPane pane) {
        this.placeHolderPane = pane;
    }

    public static OtherTasksPanel load(Stage primaryStage, AnchorPane OtherTasksPlaceholder,
            ObservableList<ReadOnlyTask> taskList) {
        OtherTasksPanel otherTasksPanel = UiPartLoader.loadUiPart(primaryStage, OtherTasksPlaceholder, new OtherTasksPanel());
        otherTasksPanel.configure(taskList);
        return otherTasksPanel;
    }

    private void configure(ObservableList<ReadOnlyTask> taskList) {
        setConnections(taskList.filtered(task -> !task.isCompleted()));
        addToPlaceholder();
    }

    private void setConnections(ObservableList<ReadOnlyTask> otherTasks) {
        otherTasksListView.setItems(otherTasks);
        otherTasksListView.setCellFactory(listView -> new otherTasksListViewCell());
    }

    private void addToPlaceholder() {
        SplitPane.setResizableWithParent(placeHolderPane, false);
        placeHolderPane.getChildren().add(panel);
    }

    public void scrollTo(int index) {
        Platform.runLater(() -> {
            otherTasksListView.scrollTo(index);
            otherTasksListView.getSelectionModel().clearAndSelect(index);
        });
    }

    class otherTasksListViewCell extends ListCell<ReadOnlyTask> {

        @Override
        protected void updateItem(ReadOnlyTask task, boolean empty) {
            super.updateItem(task, empty);

            if (empty || task == null) {
                setGraphic(null);
                setText(null);
            } else {
                setGraphic(TaskCard.load(task).getLayout());
            }
        }
    }

}
```
###### \java\seedu\agendum\ui\ResultPopUp.java
``` java
/**
 * Pop up window to show command execution result
 */
public class ResultPopUp extends UiPart {
    private static final Logger logger = LogsCenter.getLogger(ResultPopUp.class);
    private static final String FXML = "ResultPopUp.fxml";
    
    private AnchorPane mainPane;

    private Stage dialogStage;
    private static Stage root;
    
    @FXML
    private Label resultDisplay;
    
    public static ResultPopUp load(Stage primaryStage) {
        logger.fine("Showing command execution result.");
        root = primaryStage;
        ResultPopUp resultPopUp = UiPartLoader.loadUiPart(primaryStage, new ResultPopUp());
        resultPopUp.configure();
        return resultPopUp;
    }
    
    @Override
    public void setNode(Node node) {
        mainPane = (AnchorPane) node;
    }

    @Override
    public String getFxmlPath() {
        return FXML;
    }
    
    private void configure(){
        
        Scene scene = new Scene(mainPane);
        
        dialogStage = createDialogStage(null, null, scene);
        dialogStage.initModality(Modality.NONE);
        dialogStage.setAlwaysOnTop(true);
        dialogStage.setOnShown((e1) -> {
            primaryStage.requestFocus();
        });
        
        scene.setFill(Color.TRANSPARENT);
        dialogStage.initStyle(StageStyle.TRANSPARENT);
    }
    
    public void postMessage(String message) {
        resultDisplay.setWrapText(true);
        resultDisplay.setText(message);
        
        show();
        
        PauseTransition delay = new PauseTransition(Duration.seconds(5));
        delay.setOnFinished(event -> reFocusRoot());
        delay.play();
    }

    public void reFocusRoot() {
        dialogStage.setOpacity(0);
        root.requestFocus();
    }
    
    public void show() {
        dialogStage.setOpacity(1.0);
        dialogStage.sizeToScene();
        dialogStage.show();
        dialogStage.setX(root.getX() + root.getWidth() / 2 - dialogStage.getWidth() / 2);
        dialogStage.setY(root.getY() + root.getHeight() / 2 - dialogStage.getHeight() / 2);
    }
}
```
###### \java\seedu\agendum\ui\StatusBarFooter.java
``` java
    private void addTimeStatus() {
        this.timeStatus = new DigitalClock();
        FxViewUtil.applyAnchorBoundaryParameters(timeStatus, 0.0, 0.0, 0.0, 0.0);
        timeStatus.setAlignment(Pos.CENTER);
        timeStatusBarPane.getChildren().add(timeStatus);
    }
    
    @Override
    public void setNode(Node node) {
        mainPane = (GridPane) node;
    }

    @Override
    public void setPlaceholder(AnchorPane placeholder) {
        this.placeHolder = placeholder;
    }

    @Override
    public String getFxmlPath() {
        return FXML;
    }

    @Subscribe
    public void handleToDoListChangedEvent(ToDoListChangedEvent event) {
        String lastUpdated = (new Date()).toString();
        logger.info(LogsCenter.getEventHandlingLogMessage(event, "Setting last updated status to " + lastUpdated));
        setSyncStatus("Last Updated: " + lastUpdated);
    }

```
###### \java\seedu\agendum\ui\StatusBarFooter.java
``` java
class DigitalClock extends Label {
    public DigitalClock() {
      bindToTime();
    }
    
    private void bindToTime() {
        Timeline timeline = new Timeline(
                new KeyFrame(Duration.seconds(0), 
                        new EventHandler<ActionEvent>() {
                            @Override public void handle(ActionEvent actionEvent) {
                                Calendar time = Calendar.getInstance();
                                SimpleDateFormat simpleDateFormat = new SimpleDateFormat("HH:mm:ss, EEE d MMM yyyy");
                                setText(simpleDateFormat.format(time.getTime()));
                                setTextFill(Color.web("#ffffff"));
            }
        }), new KeyFrame(Duration.seconds(1)));
        timeline.setCycleCount(Animation.INDEFINITE);
        timeline.play();
    }
}
```
###### \java\seedu\agendum\ui\TaskCard.java
``` java
public class TaskCard extends UiPart {
    
    private static final String FXML = "TaskCard.fxml";

    @FXML
    private HBox cardPane;
    @FXML
    private Label name;
    @FXML
    private Label id;
    @FXML
    private Label time;

    private ReadOnlyTask task;
    private String displayedIndex;

    public TaskCard(){

    }

    public static TaskCard load(ReadOnlyTask task, int Index){
        TaskCard card = new TaskCard();
        card.task = task;
        card.displayedIndex = String.valueOf(Index) + ".";
        return UiPartLoader.loadUiPart(card);
    }
    
    public static TaskCard load(ReadOnlyTask task){
        TaskCard card = new TaskCard();
        card.task = task;
        card.displayedIndex = "";
        return UiPartLoader.loadUiPart(card);
    }

    @FXML
    public void initialize() {
        
        if(task.isOverdue()) {
            cardPane.setStyle("-fx-background-color: rgb(255, 169, 147)");
        } else if(task.isUpcoming()) {
            cardPane.setStyle("-fx-background-color: rgb(255, 229, 86)");
        } else {
            cardPane.setStyle("-fx-background-color: rgba(255,255,255,0.6)");
        }
        
        name.setTextFill(Color.web("#555555"));

        name.setText(task.getName().fullName);
        id.setText(displayedIndex);
        
        if(task.isOverdue()) {
            time.setText("Overdue\nScheduled: "+ formatTime());
        } else {
            time.setText(formatTime());
        }
        
    }
    
    public String formatTime() {
        StringBuilder sb = new StringBuilder();
        Optional<LocalDateTime> start = task.getStartDateTime();
        Optional<LocalDateTime> end = task.getEndDateTime();
        
        DateTimeFormatter startFormat = DateTimeFormatter.ofPattern("HH:mm EEE, dd MMM");
        
		if(start.isPresent()) {
			sb.append("from ").append(start.get().format(startFormat));
		}
		if(end.isPresent()) {
			sb.append(sb.length()>0 ? " to " : "by ");
			sb.append(end.get().format(startFormat));
		}
		
        return sb.toString().replace("AM", "am").replace("PM","pm");
    }

    public HBox getLayout() {
        return cardPane;
    }

    @Override
    public void setNode(Node node) {
        cardPane = (HBox)node;
    }

    @Override
    public String getFxmlPath() {
        return FXML;
    }
}
```
###### \resources\view\AllTasksPanel.fxml
``` fxml
<AnchorPane styleClass="all-pane" stylesheets="@TasksPanel.css" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0" xmlns="http://javafx.com/javafx/8.0.65" xmlns:fx="http://javafx.com/fxml/1" fx:controller="seedu.agendum.ui.AllTasksPanel">
   <children>
      <ListView fx:id="allTasksListView" layoutX="2.0" layoutY="48.0" styleClass="list" stylesheets="@TasksPanel.css" AnchorPane.bottomAnchor="5.0" AnchorPane.leftAnchor="5.0" AnchorPane.rightAnchor="5.0" AnchorPane.topAnchor="48.0" />
      <HBox alignment="CENTER" layoutX="130.0" layoutY="15.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">
         <children>
            <Text fill="WHITE" strokeType="OUTSIDE" strokeWidth="0.0" text="All Tasks" textAlignment="CENTER" wrappingWidth="199.0" HBox.hgrow="ALWAYS">
               <font>
                  <Font size="20.0" />
               </font>
            </Text>
         </children>
      </HBox>
   </children>
</AnchorPane>
```
###### \resources\view\CompletedTasksPanel.fxml
``` fxml

<AnchorPane minWidth="0.0" styleClass="completed-pane" stylesheets="@TasksPanel.css" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0" xmlns="http://javafx.com/javafx/8.0.65" xmlns:fx="http://javafx.com/fxml/1" fx:controller="seedu.agendum.ui.CompletedTasksPanel">
   <children>
      <ListView fx:id="completedTasksListView" minWidth="0.0" AnchorPane.bottomAnchor="5.0" AnchorPane.leftAnchor="5.0" AnchorPane.rightAnchor="5.0" AnchorPane.topAnchor="48.0" />
      <HBox alignment="CENTER" layoutX="130.0" layoutY="15.0" minWidth="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">
         <children>
            <Text fill="WHITE" strokeType="OUTSIDE" strokeWidth="0.0" text="Completed Tasks" textAlignment="CENTER" wrappingWidth="199.0" HBox.hgrow="ALWAYS">
               <font>
                  <Font size="20.0" />
               </font>
            </Text>
         </children>
      </HBox>
   </children>
</AnchorPane>
```
###### \resources\view\HelpWindow.css
``` css

.pane {
	-fx-background-color: #EA6254;
	-fx-background-radius: 10;
}

.button {
	-fx-background-color: rgba(0,0,0,0.1);
	-fx-background-radius: 10;
}

.button:hover {
	-fx-background-color: rgba(0,0,0,0.3);
	-fx-background-radius: 10;
}

.table-view:focused{
    -fx-background-color: transparent;
}

.table-view{
   -fx-background-color: transparent;
}

.table-view .column-header-background{
    -fx-background-color: transparent;
}

.table-view .column-header-background .label{
    -fx-background-color: transparent;
    -fx-text-fill: white;
    -fx-font-size: 16pt;
}

.table-view .column-header {
    -fx-background-color: transparent;
}

.table-view .table-cell{
    -fx-text-fill: white;
    -fx-font-size: 14pt;
}

.table-cell:empty {
	-fx-background-color: transparent;
}

.table-row-cell{
	-fx-table-cell-border-color: transparent;
    -fx-background-color: transparent;
}

.table-row-cell:even{
	-fx-table-cell-border-color: transparent;
    -fx-background-color: rgba(255,255,255,0.3);
}

.table-row-cell:hover{
    -fx-background-color: rgba(0,0,0,0.1);
}

.scroll-bar .increment-button {
  -fx-opacity: 0;
}

.scroll-bar .decrement-button {
  -fx-opacity: 0;
}

.scroll-bar {
  -fx-background-color: transparent;
}

.scroll-bar .track-background {
  -fx-opacity: 0;
  -fx-background-color: transparent;
  -fx-background-insets: 0;
}

.scroll-bar .track {
  -fx-opacity: 0;
  -fx-background-color: transparent;
  -fx-border-color:transparent;
}

.scroll-bar .thumb {
  -fx-background-color: transparent;
  -fx-background-insets: 4 0 4 0;
  -fx-background-radius: 2em;
}

.table-view .scroll-bar:vertical .increment-arrow,
.table-view .scroll-bar:vertical .decrement-arrow,
.table-view .scroll-bar:vertical .increment-button,
.table-view .scroll-bar:vertical .decrement-button {
    -fx-padding:0;
}

.table-view .scroll-bar:horizontal .increment-arrow,
.table-view .scroll-bar:horizontal .decrement-arrow,
.table-view .scroll-bar:horizontal .increment-button,
.table-view .scroll-bar:horizontal .decrement-button {
    -fx-padding:0;
}
```
###### \resources\view\HelpWindow.fxml
``` fxml

<AnchorPane fx:id="helpWindowRoot" styleClass="pane" stylesheets="@HelpWindow.css" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0" xmlns="http://javafx.com/javafx/8.0.65" xmlns:fx="http://javafx.com/fxml/1" fx:controller="seedu.agendum.ui.HelpWindow">
   <children>
      <TableView fx:id="commandTable" styleClass="pane" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="48.0">
        <columns>
          <TableColumn fx:id="commandColumn" maxWidth="-1.0" minWidth="150.0" prefWidth="-1.0" text="Command" />
          <TableColumn fx:id="descriptionColumn" maxWidth="-1.0" minWidth="350.0" prefWidth="-1.0" text="Description" />
            <TableColumn fx:id="formatColumn" maxWidth="-1.0" minWidth="350.0" prefWidth="-1.0" text="Format" />
        </columns>
      </TableView>
      <HBox alignment="CENTER" layoutX="130.0" layoutY="15.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">
         <children>
            <Text fill="WHITE" strokeType="OUTSIDE" strokeWidth="0.0" text="Help" textAlignment="CENTER" wrappingWidth="199.0" HBox.hgrow="ALWAYS">
               <font>
                  <Font size="20.0" />
               </font>
            </Text>
         </children>
      </HBox>
      <Button fx:id="backButton" mnemonicParsing="false" text="&lt;- Back to Agendum" textFill="WHITE" AnchorPane.leftAnchor="0.0" AnchorPane.topAnchor="0.0">
         <font>
            <Font size="12.0" />
         </font>
         <effect>
            <Glow level="1.0" />
         </effect>
      </Button>
   </children>
</AnchorPane>
```
###### \resources\view\MainWindow.fxml
``` fxml
<VBox maxHeight="Infinity" maxWidth="Infinity" minHeight="-Infinity" minWidth="-Infinity" xmlns="http://javafx.com/javafx/8.0.65" xmlns:fx="http://javafx.com/fxml/1" fx:controller="seedu.agendum.ui.MainWindow">
   <stylesheets>
      <URL value="@DarkTheme.css" />
      <URL value="@Extensions.css" />
   </stylesheets>
   <children>
      <MenuBar VBox.vgrow="NEVER">
         <menus>
            <Menu mnemonicParsing="false" text="File">
               <items>
                  <MenuItem mnemonicParsing="false" onAction="#handleExit" text="Exit" />
               </items>
            </Menu>
            <Menu mnemonicParsing="false" text="Help">
               <items>
                  <MenuItem fx:id="helpMenuItem" mnemonicParsing="false" onAction="#handleHelp" text="Help" />
               </items>
            </Menu>
         </menus>
      </MenuBar>
      <AnchorPane fx:id="commandBoxPlaceholder" styleClass="anchor-pane-with-border" VBox.vgrow="NEVER">
         <padding>
            <Insets bottom="5.0" left="10.0" right="10.0" top="5.0" />
         </padding>
      </AnchorPane>
      <SplitPane id="splitPane" fx:id="splitPane" dividerPositions="0.4, 1.0" VBox.vgrow="ALWAYS">
         <items>
            <VBox fx:id="taskList">
                <padding>
                    <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                </padding>
               <children>
                  <AnchorPane fx:id="allTasksPlaceHolder" VBox.vgrow="ALWAYS" />
               </children>
            </VBox>
            <VBox>
               <children>
                  <AnchorPane fx:id="otherTasksPlaceHolder" VBox.vgrow="ALWAYS" />
               </children>
               <padding>
                  <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
               </padding>
            </VBox>
            <VBox>
               <children>
                  <AnchorPane fx:id="completedTasksPlaceHolder" VBox.vgrow="ALWAYS" />
               </children>
               <padding>
                  <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
               </padding>
            </VBox>
         </items>
      </SplitPane>
      <AnchorPane fx:id="statusbarPlaceholder" VBox.vgrow="NEVER" />
   </children>
</VBox>
```
###### \resources\view\OtherTasksPanel.fxml
``` fxml
<AnchorPane styleClass="other-pane" stylesheets="@TasksPanel.css" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0" xmlns="http://javafx.com/javafx/8.0.65" xmlns:fx="http://javafx.com/fxml/1" fx:controller="seedu.agendum.ui.OtherTasksPanel">
   <children>
      <ListView fx:id="otherTasksListView" AnchorPane.bottomAnchor="5.0" AnchorPane.leftAnchor="5.0" AnchorPane.rightAnchor="5.0" AnchorPane.topAnchor="48.0" />
      <HBox alignment="CENTER" layoutX="130.0" layoutY="15.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">
         <children>
            <Text fill="WHITE" strokeType="OUTSIDE" strokeWidth="0.0" text="Uncompleted Tasks" textAlignment="CENTER" wrappingWidth="199.0" HBox.hgrow="ALWAYS">
               <font>
                  <Font size="20.0" />
               </font>
            </Text>
         </children>
      </HBox>
   </children>
</AnchorPane>
```
###### \resources\view\ResultPopUp.css
``` css
.pane {
    -fx-background-color: rgb(229,74,63);
    -fx-background-radius: 20;
    -fx-padding: 10px;
}

.label {
	-fx-text-fill: white;
	-fx-font-size: 14pt;
}
```
###### \resources\view\ResultPopUp.fxml
``` fxml
<AnchorPane styleClass="pane" stylesheets="@ResultPopUp.css" xmlns="http://javafx.com/javafx/8.0.65" xmlns:fx="http://javafx.com/fxml/1" fx:controller="seedu.agendum.ui.ResultPopUp">
   <children>
      <Label fx:id="resultDisplay" alignment="CENTER" text="Label" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0" />
   </children>
</AnchorPane>
```
###### \resources\view\StatusBarFooter.fxml
``` fxml
<GridPane styleClass="grid-pane" stylesheets="@DarkTheme.css" xmlns="http://javafx.com/javafx/8.0.65" xmlns:fx="http://javafx.com/fxml/1" fx:controller="seedu.agendum.ui.StatusBarFooter">
<columnConstraints>
  <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
  <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
      <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
</columnConstraints>
 <children>
      <AnchorPane id="syncStatusBarPane" fx:id="syncStatusBarPane" minWidth="0.0" styleClass="anchor-pane" />
      <AnchorPane id="saveLocStatusBarPane" fx:id="saveLocStatusBarPane" minWidth="0.0" styleClass="anchor-pane" GridPane.columnIndex="1" />
      <AnchorPane id="timeStatusBarPane" fx:id="timeStatusBarPane" styleClass="anchor-pane" GridPane.columnIndex="2" />
 </children>
   <rowConstraints>
      <RowConstraints />
   </rowConstraints>
</GridPane>
```
###### \resources\view\TaskCard.fxml
``` fxml
<HBox fx:id="cardPane" alignment="CENTER_LEFT" styleClass="hbox" stylesheets="@TasksPanel.css" xmlns="http://javafx.com/javafx/8.0.65" xmlns:fx="http://javafx.com/fxml/1">
   <children>
      <GridPane alignment="CENTER_LEFT" style="-fx-background-color: transparent;">
         <HBox.margin>
            <Insets bottom="10.0" />
         </HBox.margin>
         <columnConstraints>
            <ColumnConstraints hgrow="ALWAYS" />
            <ColumnConstraints hgrow="ALWAYS" />
         </columnConstraints>
         <rowConstraints>
            <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
         </rowConstraints>
         <children>
            <Label fx:id="id" styleClass="cell_big_label" stylesheets="@TasksPanel.css" text="\$ID">
               <padding>
                  <Insets right="20.0" />
               </padding>
            </Label>
            <VBox alignment="CENTER" styleClass="vbox" GridPane.columnIndex="1">
               <children>
                  <HBox alignment="CENTER_LEFT">
                     <children>
                        <Label fx:id="name" styleClass="cell_big_label" stylesheets="@TasksPanel.css" text="\$task">
                           <padding>
                              <Insets right="20.0" />
                           </padding>
                        </Label>
                     </children>
                  </HBox>
                  <HBox alignment="CENTER_LEFT">
                     <children>
                        <Label fx:id="time" styleClass="cell_time_label" stylesheets="@TasksPanel.css" text="\$time">
                           <font>
                              <Font name="System Italic" size="13.0" />
                           </font>
                        </Label>
                     </children>
                     <VBox.margin>
                        <Insets top="5.0" />
                     </VBox.margin>
                  </HBox>
               </children>
            </VBox>
         </children>
      </GridPane>
   </children>
   <padding>
      <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
   </padding>
</HBox>
```
###### \resources\view\TasksPanel.css
``` css
.all-pane {
	-fx-background-color:  #F39C12;
	-fx-background-radius: 10;
}

.completed-pane {
	-fx-background-color:  #03C9A9;
	-fx-background-radius: 10;
}

.other-pane {
	-fx-background-color:  #3498DB;
	-fx-background-radius: 10;
}

.list-view {
	-fx-background-color: transparent;
	-fx-background-radius: 10;
}

.list-cell {
    -fx-background-radius: 10;
    -fx-background-color: transparent;
}

.list-cell:empty  {
	-fx-background-color: transparent;
}

.cell_big_label {
    -fx-font-size: 16pt;
    -fx-opacity: 0.9;
}

.cell_small_label {
    -fx-font-size: 11pt;
    -fx-text-fill: #555555;
    -fx-opacity: 0.9;
}

.cell_time_label {
    -fx-text-fill: #5284f2;
    -fx-font-family: "Segoe UI Light";
	-fx-opacity: 0.9;
}

.hbox {
	-fx-background-radius: 10;
}

.vbox {
	-fx-background-color: transparent;
}
```
